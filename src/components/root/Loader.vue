<template>
  <div class="loader disappear">
    <div
      class="loader-cover disappear"
      :class="color">
      <SvgIcon name="logo" />
    </div>
    <div class="loader-content">
      <svg class="logo" width="230" height="79" viewBox="0 0 230 79" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path class="letter" d="M100.051 6.01831H107.702L117.237 31.6H109.291L108.041 27.822H99.3305L98.0799 31.5707H90.6055L100.051 6.01831ZM100.978 22.6969H106.305L104.686 17.6889C104.289 16.4296 103.715 14.3942 103.715 14.3942C103.715 14.3942 103.171 16.4296 102.744 17.6889L100.978 22.6969Z" fill="#111211"/>
        <path class="letter" d="M124.814 16.1076H124.917C125.462 15.1199 126.272 14.3024 127.257 13.7465C128.241 13.1905 129.362 12.918 130.493 12.9593C130.876 12.9351 131.259 13.0002 131.612 13.1496V18.9044H131.465C127.477 18.2162 125.138 20.0173 125.138 24.132V31.6001H118.34V13.3546H124.814V16.1076Z" fill="#111211"/>
        <path class="letter" d="M132.612 13.3546H134.981V7.49731H141.632V13.3546H145.119V17.44H141.632V24.8934C141.632 26.7238 142.926 26.7531 145.045 26.6213V31.5854C143.953 31.8601 142.832 32.0026 141.705 32.01C137.291 32.01 134.981 30.7653 134.981 26.4017V17.44H132.612V13.3546Z" fill="#111211"/>
        <path class="letter" d="M159.096 31.6002V29.2865H158.993C158.362 30.2129 157.508 30.9667 156.507 31.4784C155.507 31.9901 154.394 32.2435 153.27 32.2152C148.856 32.2152 146.737 29.3597 146.737 25.1718V13.4572H153.52V23.6196C153.52 25.5086 154.359 26.5482 155.962 26.5482C157.566 26.5482 158.773 25.2889 158.773 23.3267V13.3547H165.57V31.6002H159.096Z" fill="#111211"/>
        <path class="letter" d="M174.472 16.1076H174.59C175.131 15.1199 175.938 14.3021 176.92 13.7459C177.903 13.1898 179.022 12.9173 180.151 12.9593C180.534 12.9351 180.917 13.0002 181.269 13.1496V18.9044H181.122C177.135 18.2162 174.796 20.0173 174.796 24.132V31.6001H168.013V13.3546H174.472V16.1076Z" fill="#111211"/>
        <path class="letter" d="M92.2975 45.5549H112.102V51.8515H99.8013V56.0395H109.983V61.8967H99.8013V71.1951H92.2975V45.5549Z" fill="#111211"/>
        <path class="letter" d="M111.69 61.9848C111.646 60.6964 111.87 59.4129 112.347 58.2143C112.824 57.0158 113.544 55.9279 114.462 55.0184C115.38 54.1089 116.476 53.3973 117.683 52.9281C118.889 52.4589 120.18 52.242 121.474 52.291C123.96 52.21 126.381 53.0918 128.228 54.751C129.365 55.9275 130.239 57.3306 130.792 58.8677C131.345 60.4048 131.564 62.0411 131.435 63.6687H118.34C118.738 65.7773 119.812 67.0659 121.945 67.0659C122.455 67.1014 122.965 66.9923 123.416 66.7513C123.866 66.5103 124.239 66.1472 124.49 65.7041H131.067C130.5 67.5519 129.255 69.1199 127.58 70.0971C125.819 71.1878 123.768 71.7237 121.695 71.6346C115.721 71.6346 111.69 67.5638 111.69 61.9848ZM118.34 60.0372H124.667C124.387 58.0018 123.196 56.7864 121.621 56.7864C119.753 56.8303 118.708 58.075 118.34 60.0372Z" fill="#111211"/>
        <path class="letter" d="M132.421 61.9846C132.421 56.2591 135.731 52.3201 140.616 52.3201C141.603 52.2669 142.587 52.4697 143.472 52.9086C144.357 53.3476 145.112 54.0076 145.663 54.8241H145.766V45.5549H152.564V71.1366H146.09V68.6033H146.016C145.49 69.565 144.711 70.3662 143.762 70.9208C142.814 71.4754 141.731 71.7626 140.631 71.7516C135.879 71.7516 132.421 68.2812 132.421 61.9846ZM146.001 61.8674C146.001 59.261 144.633 57.1816 142.632 57.1816C140.631 57.1816 139.322 59.0852 139.322 61.8674C139.322 64.6496 140.616 66.6265 142.632 66.6265C144.648 66.6265 145.943 64.5179 145.943 61.8674H146.001Z" fill="#111211"/>
        <path class="letter" d="M154.241 62.0579C154.34 59.4774 155.44 57.0355 157.31 55.2447C159.179 53.454 161.673 52.4536 164.268 52.4536C166.863 52.4536 169.357 53.454 171.227 55.2447C173.096 57.0355 174.196 59.4774 174.295 62.0579C174.295 67.5931 170.411 71.7078 164.305 71.7078C158.199 71.7078 154.241 67.5931 154.241 62.0579ZM167.395 62.0579C167.395 58.9682 166.321 56.9035 164.231 56.9035C162.142 56.9035 161.142 58.9682 161.142 62.0579C161.142 65.1476 162.157 67.1977 164.231 67.1977C166.306 67.1977 167.395 65.133 167.395 62.0579Z" fill="#111211"/>
        <path class="letter" d="M182.447 55.6443H182.564C183.107 54.6578 183.914 53.8409 184.896 53.2849C185.878 52.7289 186.997 52.4558 188.126 52.496C188.509 52.4701 188.892 52.5354 189.244 52.6864V58.4411H189.097C185.11 57.7529 182.77 59.554 182.77 63.6688V71.1368H175.987V52.8914H182.447V55.6443Z" fill="#111211"/>
        <path class="letter" d="M189.921 62.0579C190.02 59.4774 191.12 57.0355 192.99 55.2447C194.859 53.454 197.353 52.4536 199.948 52.4536C202.543 52.4536 205.037 53.454 206.906 55.2447C208.776 57.0355 209.876 59.4774 209.975 62.0579C209.975 67.5931 206.106 71.7078 199.985 71.7078C193.864 71.7078 189.921 67.5931 189.921 62.0579ZM203.075 62.0579C203.075 58.9682 202.001 56.9035 199.911 56.9035C197.822 56.9035 196.822 58.9682 196.822 62.0579C196.822 65.1476 197.837 67.1977 199.911 67.1977C201.986 67.1977 203.045 65.133 203.045 62.0579H203.075Z" fill="#111211"/>
        <path class="letter" d="M209.475 52.8914H216.523L218.597 59.9054C219.142 61.7651 219.789 64.2984 219.789 64.2984H219.863C219.863 64.2984 220.54 61.7651 221.084 59.9054L223.173 52.8914H230L223.644 71.1368H215.699L209.475 52.8914Z" fill="#111211"/>

        <path class="circle" fill-rule="evenodd" clip-rule="evenodd" d="M51.0088 43.9395L53.1451 41.7184L45.5628 36.5212L46.3475 34.1627L42.625 33.0498L42.23 34.2369L39.5794 32.42L44.0522 29.2131L41.3008 26.4749L33.3703 33.1375L47.0243 42.4945L44.8947 44.7092L36.6955 36.5642L30.5157 47.9537L12.8598 51.4122L13.4483 54.4433L28.6054 51.4743L15.6406 75.3687L19.0688 77.2137L33.5469 50.5064L43.3381 48.5885L73.9204 79.0002L76.6424 76.2473L47.9001 47.6948L78.2609 41.7477L77.6724 38.7166L51.0088 43.9395ZM37.6519 42.934L40.6947 45.9598L35.4552 46.9862L37.6519 42.934Z" fill="#111211"/>
        <path class="circle" d="M36.7838 73.3478C29.5201 73.3217 22.4267 71.1559 16.398 67.1234C10.3693 63.0908 5.67523 57.3721 2.9076 50.6883C0.139973 44.0045 -0.577298 36.6548 0.846221 29.5658C2.26974 22.4769 5.77032 15.9661 10.9066 10.8543C16.0429 5.74256 22.5849 2.25869 29.7078 0.841962C36.8308 -0.574763 44.2157 0.139085 50.9316 2.8935C57.6475 5.64792 63.3936 10.3196 67.4455 16.3195C71.4973 22.3194 73.6736 29.379 73.6998 36.608C73.7036 41.4339 72.7514 46.2131 70.8976 50.6723C69.0437 55.1315 66.3247 59.1832 62.896 62.5956C59.4672 66.0079 55.3961 68.714 50.9155 70.559C46.4349 72.404 41.6328 73.3517 36.7838 73.3478ZM36.7838 3.98302C30.2886 3.99461 23.9428 5.9228 18.5487 9.52375C13.1546 13.1247 8.95457 18.2367 6.47973 24.2133C4.00489 30.1898 3.36638 36.7625 4.64494 43.1003C5.92351 49.438 9.06173 55.2561 13.6628 59.8187C18.2638 64.3814 24.121 67.4838 30.4936 68.7335C36.8663 69.9833 43.4682 69.3242 49.4645 66.8398C55.4608 64.3554 60.5822 60.1571 64.1811 54.7759C67.7799 49.3947 69.6946 43.0722 69.683 36.608C69.6557 27.9434 66.1771 19.6431 60.0098 13.5272C53.8425 7.41138 45.4901 3.9791 36.7838 3.98302Z" fill="#111211"/>
      </svg>
      <h2 class="loader-header">
        <div class="loader-header-cover" />
          Developer +
        <span class="is-red">
          Designer
        </span>
      </h2>
    </div>
  </div>
</template>

<script lang="ts">
import Vue from 'vue';
import {AnimationService} from '@/shared/services/animation.service';
export default Vue.extend({
  name: 'Loader',
  props: {
    color: {
      type: String,
      default: 'is-red'
    }
  },
  mounted(): void {
    AnimationService.gsap.timeline({defaults: { duration: 1.5}})
      .from('.letter', {
        opacity: 0,
        x: 3,
        stagger: 0.1,
        ease: AnimationService.easing.power1.easeInOut
      }).from('.circle', {
        delay: -1.5,
        duration: 1,
        opacity: 0,
        stagger: 0.2,
        scale: 1.04,
        rotate: -3,
        ease: AnimationService.easing.power1.easeInOut
      }).from('.loader-header-cover', {
        delay: -0.5,
        duration: 2.5,
        top: 0,
        ease: AnimationService.easing.power1.easeOut
      }).to('.loader-cover', {
        delay: -1.3,
        duration: 1,
        bottom: 0,
        ease: AnimationService.easing.power1.easeOut
      }).to('.disappear', {
        delay: -0.3,
        y: -2000,
        ease: AnimationService.easing.power3.easeInOut,
        stagger: 0.5
      });
  }
});
</script>

<style lang="scss" scoped>
  .loader {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: $white;
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 10;

    &-cover {
      bottom: 2500px;
      position: fixed;
      display: flex;
      align-items: center;
      justify-content: center;
      top: 0;
      left: 0;
      right: 0;
      z-index: 11;
      transform-origin: 100% 0;
      background-color: $red;

      &.is-red {
        background-color: $red;
      }

      &.is-purple {
        background-color: $purple;
      }

      &.is-black {
        background-color: $black;
      }

      &.is-blue {
        background-color: $blue;
      }

      &.is-orange {
        background-color: $orange;
      }

      .svg-icon-logo {
        fill: $white;
        width: 50vh;
        height: 50vh;

        @media ($mobile) {
          width: 30vh;
          height: 30vh;
        }
      }
    }

    &-content {
      position: relative;
    }

    &-header {
      position: relative;
      text-align: right;
      overflow: hidden;

      &-cover {
        position: absolute;
        top: 150px;
        width: 100%;
        height: 100%;
        background-color: $white;
      }
    }
  }

  .logo {
    width: 700px;
    height: 300px;

    @media ($mobile) {
      width: 300px;
      height: 200px;
    }
  }
</style>
